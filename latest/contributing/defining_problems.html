<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developing A New Problem · DiffEq Developer Documentation</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.5.0/styles/default.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Ubuntu+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script></head><body><nav class="toc"><a href="../index.html"><img class="logo" src="../assets/logo.png" alt="DiffEq Developer Documentation logo"/></a><h1>DiffEq Developer Documentation</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" action="../search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../index.html">Home</a></li><li><span class="toctext">Contributor Guide</span><ul><li><a class="toctext" href="ecosystem_overview.html">Ecosystem Overview</a></li><li><a class="toctext" href="adding_algorithms.html">Adding Algorithms</a></li><li class="current"><a class="toctext" href="defining_problems.html">Developing A New Problem</a><ul class="internal"></ul></li><li><a class="toctext" href="diffeq_internals.html">The DiffEq Internals</a></li><li><a class="toctext" href="parameters.html">The Parameters Interface</a></li><li><a class="toctext" href="type_traits.html">Type Traits</a></li></ul></li><li><span class="toctext">Algorithm Development Tools</span><ul><li><a class="toctext" href="../alg_dev/test_problems.html">Test Problems</a></li><li><a class="toctext" href="../alg_dev/convergence.html">Convergence Simulations</a></li><li><a class="toctext" href="../alg_dev/benchmarks.html">Benchmark Suite</a></li></ul></li><li><span class="toctext">Internal Documentation</span><ul><li><a class="toctext" href="../internals/fem_tools.html">Internal Finite Element Tools</a></li><li><a class="toctext" href="../internals/notes_on_algorithms.html">Notes on Algorithms</a></li><li><a class="toctext" href="../internals/tableaus.html">ODE Tableaus</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>Contributor Guide</li><li><a href="defining_problems.html">Developing A New Problem</a></li></ul><a class="edit-page" href="https://github.com/JuliaDiffEq/DiffEqDevDocs.jl/tree/d3f8ae1692a131353753bc428b83938fa4a3d017/docs/src/contributing/defining_problems.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/></header><h1><a class="nav-anchor" id="Developing-A-New-Problem-1" href="#Developing-A-New-Problem-1">Developing A New Problem</a></h1><p>New problems should be defined for new types of differential equations, new partial differential equations, and special subclasses of differential equations for which solvers can dispatch on for better performance (one such subclass are <code>MassMatrixODEProblem</code> which is a <code>DAEProblem</code>, but methods can specialize on the specific structure).</p><p>To develop a new problem, you need to make a new <code>DEProblem</code> and a new <code>DESolution</code>. These types belong in DiffEqBase and should be exported. The <code>DEProblem</code> type should hold all of the mathematical information about the problem (including all of the meshing information in both space and time), and the <code>DESolution</code> should hold all of the information for the solution. Then all that is required is to define a <code>solve(::DEProblem,alg;kwargs)</code> which takes in the problem and returns a solution.</p><p>If the problem makes sense in a heirarchy, one should define a promotion structure. For example, <code>ODEProblem</code>s are <code>DAEProblem</code>s, and so by defining this structure methods written for DAEs can solve ODEs by promotion (such as how <code>DASSL</code> provides a BDF method).</p><p>To add plotting functionality, add a plot recipe for the solution type. For testing one should create a separate <code>DETestProblem</code> and <code>DETestSolution</code> which holds the analytical solution, and/or extend <code>appxtrue!</code> in DiffEqDevTools for error analysis. Then to check that the algorithm works, add a dispatch for <code>test_convergence</code> which makes a <code>ConvergenceSimulation</code> type. This type already has a plot recipe, so plotting functionality will already be embedded. This requires that your problem can take in a true solution, and has a field <code>errors</code> which is a dictionary of symbols for the different error estimates (L2,L infinity, etc.)</p><p>After these steps, update the documentation to include the new problem types and the new associated solvers.</p><footer><hr/><a class="previous" href="adding_algorithms.html"><span class="direction">Previous</span><span class="title">Adding Algorithms</span></a><a class="next" href="diffeq_internals.html"><span class="direction">Next</span><span class="title">The DiffEq Internals</span></a></footer></article></body></html>
